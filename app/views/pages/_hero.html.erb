<!-- ChatGPT-like centered composer: card with large textarea, minimal design -->
<% unless user_signed_in? %>
  <div class="flex flex-col items-center justify-center min-h-[calc(100vh-12rem)] py-12 px-4">
    <!-- Hero headline -->
    <div class="text-center mb-8 max-w-2xl">
      <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-neutral-900 mb-4">
        The houz for your AI prompts
      </h1>
      <p class="text-lg text-neutral-600 max-w-xl mx-auto">
        Describe your idea and get a concise, model-ready prompt in seconds. Save and reuse your favorites.
      </p>
    </div>

    <!-- Centered composer card -->
    <div class="w-full max-w-3xl">
      <div class="bg-white rounded-2xl border border-neutral-200 shadow-sm p-6 md:p-8">
        <!-- Prompt composer form -->
        <%= form_with url: prompts_path, scope: :prompt, method: :post, local: false, class: "flex flex-col gap-4" do |f| %>
          <div class="relative">
            <%= f.text_area :idea,
                  placeholder: "Type your idea here... (e.g. 'Write a friendly onboarding email for a new SaaS user')",
                  rows: 8,
                  minlength: 10,
                  class: "w-full border border-neutral-300 rounded-lg px-4 py-3 text-base text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-accent-orange focus:border-accent-orange resize-y min-h-[200px] transition-colors",
                  aria: { label: "Prompt idea input" } %>
          </div>

          <!-- Actions row -->
          <div class="flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 pt-2">
            <div class="flex gap-3">
              <%= f.submit "Generate Prompt", 
                    class: "px-6 py-3 rounded-lg bg-accent-orange text-white font-medium hover:bg-accent-orange-dark transition-colors focus:outline-none focus:ring-2 focus:ring-accent-orange focus:ring-offset-2 shadow-orange-soft disabled:opacity-60 disabled:cursor-not-allowed",
                    data: { disable_with: "Generating..." } %>
              
              <button type="button" 
                      onclick="window.open('https://chat.openai.com','_blank')" 
                      class="px-4 py-3 rounded-lg border border-neutral-300 text-neutral-700 font-medium hover:bg-neutral-50 transition-colors focus:outline-none focus:ring-2 focus:ring-neutral-300">
                Open ChatGPT
              </button>
            </div>

            <p class="text-sm text-neutral-500 text-center sm:text-right">
              Try it free â€” <strong class="text-neutral-700">sign in to save prompts</strong>
            </p>
          </div>

          <!-- Generated prompt result area -->
          <div id="prompt-result" class="mt-6">
            <%= turbo_frame_tag "prompt_show" do %>
              <% if @generated_prompt.present? %>
                <div class="bg-neutral-50 border border-neutral-200 rounded-lg p-4">
                  <div class="flex items-center justify-between mb-2">
                    <h3 class="text-sm font-semibold text-neutral-700">Generated Prompt</h3>
                    <button 
                      type="button"
                      onclick="navigator.clipboard.writeText('<%= j @generated_prompt %>').then(() => alert('Copied!'))"
                      class="px-3 py-1 text-xs text-accent-orange hover:text-accent-orange-dark font-medium"
                      aria-label="Copy prompt"
                    >
                      Copy
                    </button>
                  </div>
                  <pre class="whitespace-pre-wrap text-sm text-neutral-700 leading-relaxed"><%= @generated_prompt %></pre>
                </div>
              <% end %>
            <% end %>
          </div>
        <% end %>
      </div>

      <!-- Benefits/features (subtle, below composer) -->
      <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
        <div class="p-4">
          <div class="text-2xl mb-2">âš¡</div>
          <p class="text-sm font-medium text-neutral-700">Fast</p>
          <p class="text-xs text-neutral-500">Seconds to generate</p>
        </div>
        <div class="p-4">
          <div class="text-2xl mb-2">ðŸŽ¯</div>
          <p class="text-sm font-medium text-neutral-700">Effective</p>
          <p class="text-xs text-neutral-500">Better outputs</p>
        </div>
        <div class="p-4">
          <div class="text-2xl mb-2">ðŸ’¾</div>
          <p class="text-sm font-medium text-neutral-700">Save & reuse</p>
          <p class="text-xs text-neutral-500">Store favorites</p>
        </div>
        <div class="p-4">
          <div class="text-2xl mb-2">ðŸ”’</div>
          <p class="text-sm font-medium text-neutral-700">Private</p>
          <p class="text-xs text-neutral-500">Your data stays safe</p>
        </div>
      </div>
    </div>
  </div>
<% end %>
