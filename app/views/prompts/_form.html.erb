<%= form_with url: prompt_path, scope: :prompt, method: :post, local: false do |f| %>
  <div class="mb-3">
    <%= f.label :idea, "Your idea" %>
    <%= f.text_area :idea, value: params.dig(:prompt, :idea) || @previous_input&.dig(:idea), rows: 6, class: "w-full border p-2 rounded" %>
  </div>

  <div class="flex gap-2 mb-3">
    <%= f.select :category, ["Writing", "Marketing", "Code", "Other"], {include_blank: "Category"}, class: "border p-2 rounded" %>
    <%= f.select :tone, ["Formal", "Informal", "Friendly"], {include_blank: "Tone"}, class: "border p-2 rounded" %>
    <%= f.select :format, ["Paragraph", "Bullet list", "Steps"], {include_blank: "Format"}, class: "border p-2 rounded" %>
  </div>

  <%= f.submit "Generate Prompt", class: "px-4 py-2 bg-green-600 text-white rounded" %>
<% end %>