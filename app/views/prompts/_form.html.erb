<%= turbo_frame_tag "prompt_form" do %>
  <%= form_with url: prompts_path, scope: :prompt, local: false, method: :post, class: "space-y-3" do |f| %>
    <div>
      <%= f.text_area :idea, value: (defined?(@previous_input) ? @previous_input[:idea] : f.object.idea), placeholder: "Describe your idea...", rows: 4, class: "w-full border rounded p-3" %>
    </div>

    <div class="flex gap-2">
      <%= f.select :category, ["Writing", "Marketing", "Code", "Other"], { include_blank: "Category" }, class: "border p-2 rounded w-1/2", selected: (defined?(@previous_input) ? @previous_input[:category] : nil) %>
      <%= f.select :tone, ["Formal", "Informal", "Friendly"], { include_blank: "Tone" }, class: "border p-2 rounded w-1/2", selected: (defined?(@previous_input) ? @previous_input[:tone] : nil) %>
    </div>

    <div class="flex items-center justify-between">
      <div class="text-sm text-gray-500">Model: General</div>
      <div><%= f.submit "Generate", class: "px-4 py-2 bg-brand text-white rounded" %></div>
    </div>
  <% end %>
<% end %>
