<header class="fixed top-0 left-0 right-0 z-50 bg-white border-b border-neutral-200" style="height:var(--header-height);">
  <div class="flex items-center justify-between h-full px-4 md:px-6">
    <!-- Left: package viewer logo (bigger) -->
    <div class="flex items-center gap-4">
      <%= link_to root_path, class: "flex items-center gap-2", aria: { label: "devwerkhouz home" } do %>
        <%= image_tag "dwh_fullname.png", alt: "devwerkhouz", class: "h-12 md:h-16 w-auto object-contain" %>
      <% end %>

      <%# Pricing dropdown for guests (hidden for signed-in users) %>
      <% unless user_signed_in? %>
        <%= link_to pricing_path, class: "px-3 py-1 text-sm rounded hover:bg-neutral-100" do %>
          Pricing
        <% end %>
      <% end %>
    </div>

    <!-- Middle: reserved for page title / search (kept minimal) -->
    <div class="flex-1 px-4 hidden md:flex items-center justify-center">
      <!-- reserved for page-level title or search -->
    </div>

    <!-- Right: share, prompt edit/settings, mobile toggle -->
    <div class="flex items-center gap-3">
      <% if user_signed_in? %>
        <%= button_to "#", method: :get, class: "inline-flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-2", data: { action: "share#open" } do %>
          <svg class="w-5 h-5 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12v.01M12 12v.01M20 12v.01M4 12a8 8 0 0116 0" />
          </svg>
          <span class="hidden sm:inline text-sm text-neutral-700">Share</span>
        <% end %>

        <%= link_to "#", class: "inline-flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-2", title: "Prompt actions" do %>
          <svg class="w-5 h-5 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
          </svg>
          <span class="hidden sm:inline text-sm text-neutral-700">Actions</span>
        <% end %>
      <% else %>
        <%= link_to "Sign in", new_user_session_path, class: "px-4 py-1.5 text-sm text-neutral-700 hover:text-neutral-900 transition-colors" %>
        <%= link_to "Sign up", new_user_registration_path, class: "btn-orange px-4 py-1.5 text-sm" %>
      <% end %>

      <!-- Mobile: hamburger menu toggle for sidebar -->
      <button
        type="button"
        onclick="window.toggleSidebar()"
        aria-label="Toggle sidebar"
        class="md:hidden p-2 rounded-lg hover:bg-neutral-100 text-neutral-600"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>
</header>
