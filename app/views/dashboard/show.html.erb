<div class="max-w-4xl mx-auto py-12">
  <h1 class="text-3xl font-bold mb-6">Welcome back, <%= current_user.email %>!</h1>

  <!-- Composer -->
  <%= render "prompts/composer", prompt: @prompt %>

  <!-- Optional: Saved Prompts -->
  <% if @saved_prompts&.any? %>
    <h2 class="text-xl font-semibold mb-4">Your Recent Prompts</h2>
    <ul class="space-y-2">
      <% @saved_prompts.each do |prompt| %>
        <li class="p-3 bg-gray-50 rounded shadow-sm">
          <%= link_to prompt.idea.truncate(60), prompt_path(prompt), class: "underline" %>
        </li>
      <% end %>
    </ul>
  <% end %>
</div>

<div class="max-w-6xl mx-auto py-12 px-4">
  <div class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-2xl font-extrabold text-neutral-900">Your Dashboard</h1>
      <p class="text-neutral-600 mt-1">Compose prompts, save favourites, and manage your account.</p>
    </div>

    <div>
      <%= link_to "New Prompt", new_prompt_path, class: "inline-flex items-center px-4 py-2 rounded bg-accent-orange text-white hover:bg-accent-orange-dark shadow" %>
    </div>
  </div>

  <% if @prompts.present? %>
    <div class="grid gap-4">
      <% @prompts.each do |prompt| %>
        <div class="bg-white rounded-lg p-4 shadow">
          <h3 class="font-semibold text-neutral-800"><%= truncate(prompt.idea || prompt.generated_prompt, length: 80) %></h3>
          <p class="text-sm text-neutral-600 mt-1 whitespace-pre-wrap"><%= truncate(prompt.generated_prompt, length: 220) %></p>
          <div class="mt-3 flex gap-2">
            <%= link_to "Open", prompt_path(prompt), class: "text-sm underline" %>
            <%= link_to "Edit", edit_prompt_path(prompt), class: "text-sm underline" %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="bg-white rounded-lg p-6 text-center shadow">
      <p class="text-neutral-700">You don't have any saved prompts yet. Click "New Prompt" to start.</p>
    </div>
  <% end %>
</div>